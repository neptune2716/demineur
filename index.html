<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relaxing Minesweeper</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="particles-container" id="particles-container"></div>
    <div class="game-container">        <header>
            <h1>Relaxing Minesweeper</h1>
        </header>
        
        <!-- Game Info: Separated from controls -->
        <div class="game-info-panel">
            <div class="game-info-item mines-counter">Mines: <span id="mines-counter">0</span></div>
            <div class="game-info-item timer">Time: <span id="timer">0</span>s</div>
            <div class="game-info-item win-rate">Win Rate: <span id="main-win-rate">0%</span></div>
            <div class="game-info-item current-streak">Streak: <span id="main-current-streak">0</span></div>
        </div>

        <!-- Game Controls: Buttons separated from info -->
        <div class="game-controls">
            <button id="new-game">New Game</button>
            <div class="difficulty-group">
                <button class="difficulty" data-difficulty="easy">Easy</button>
                <button class="difficulty" data-difficulty="medium">Medium</button>
                <button class="difficulty" data-difficulty="hard">Hard</button>
                <button id="custom-difficulty">Custom</button>
            </div>
            <button id="view-stats">Statistics</button>
            <button id="menu-button">Menu</button>
        </div>
        
        <div class="game-board-container">
            <div id="game-board"></div>
        </div>
          <div id="menu-modal" class="modal">
            <div class="modal-content menu-content">
                <span class="close" id="menu-close">&times;</span>
                <h2>Game Menu</h2>
  
                  <div class="menu-section">
                    <h3>Game Options</h3>
                    <div class="option-toggle">
                        <label for="speedrun-toggle">Speedrun Mode</label>
                        <input type="checkbox" id="speedrun-toggle" checked>
                        <span class="info-icon" id="speedrun-info">i
                            <span class="tooltip">
                                In speedrun mode: <br>
                                • Click on a number to reveal surrounding cells if correct mines are flagged <br>
                                • Right-click on a number to auto-flag mines if surrounding cells can be determined
                            </span>
                        </span>
                    </div>
                </div>                <div class="menu-section">
                    <h3>Controller Options</h3>
                    <div class="option-group">
                        <div class="control-action">
                            <label>Reveal Cells:</label>
                            <div class="button-select">
                                <label><input type="radio" name="reveal" value="left" checked> Left Click</label>
                                <label><input type="radio" name="reveal" value="right"> Right Click</label>
                            </div>
                        </div>
                        
                        <div class="control-action">
                            <label>Place Flags:</label>
                            <div class="button-select">
                                <label><input type="radio" name="flag" value="left"> Left Click</label>
                                <label><input type="radio" name="flag" value="right" checked> Right Click</label>
                            </div>
                        </div>
                        
                        <div class="control-action speedrun-control">
                            <label>Chord (when number matches flags):</label>
                            <div class="button-select">
                                <label><input type="radio" name="chord" value="left" checked> Left Click</label>
                                <label><input type="radio" name="chord" value="right"> Right Click</label>
                                <label><input type="radio" name="chord" value="none"> Disabled</label>
                            </div>
                        </div>
                        
                        <div class="control-action speedrun-control">
                            <label>Auto-flag (when possible):</label>
                            <div class="button-select">
                                <label><input type="radio" name="autoflag" value="left"> Left Click</label>
                                <label><input type="radio" name="autoflag" value="right" checked> Right Click</label>
                                <label><input type="radio" name="autoflag" value="none"> Disabled</label>
                            </div>
                        </div>
                        
                        <div class="info-box">
                            <span class="info-icon">i</span>
                            <span class="info-text">Chord and Auto-flag options require Speedrun Mode to be enabled</span>
                        </div>
                    </div>
                </div>                <div class="menu-section">
                    <h3>Theme</h3>
                    <select id="theme" class="full-width">
                        <option value="default">Default</option>
                        <option value="ocean">Ocean</option>
                        <option value="forest">Forest</option>
                        <option value="sunset">Sunset</option>
                        <option value="dark">Dark Mode</option>
                        <option value="night-sky">Night Sky</option>
                        <option value="pastel">Pastel</option>
                        <option value="japanese-garden">Japanese Garden</option>
                        <option value="spring">Spring</option>
                        <option value="summer">Summer</option>
                        <option value="autumn">Autumn</option>
                        <option value="winter">Winter</option>
                        <option value="custom">Custom Colors</option>
                    </select>
                    <div class="option-toggle" style="margin-top: 10px;">
                        <label for="animated-bg">Animated Background</label>
                        <input type="checkbox" id="animated-bg" checked>
                    </div>
                    
                    <div id="color-customizer" class="color-customizer" style="display: none; margin-top: 15px;">
                        <h4>Customize Colors</h4>
                        <div class="color-option">
                            <label for="custom-bg">Background</label>
                            <input type="color" id="custom-bg" class="color-picker">
                        </div>
                        <div class="color-option">
                            <label for="custom-board-bg">Board Background</label>
                            <input type="color" id="custom-board-bg" class="color-picker">
                        </div>
                        <div class="color-option">
                            <label for="custom-cell">Cell Color</label>
                            <input type="color" id="custom-cell" class="color-picker">
                        </div>
                        <div class="color-option">
                            <label for="custom-revealed">Revealed Cell</label>
                            <input type="color" id="custom-revealed" class="color-picker">
                        </div>
                        <div class="color-option">
                            <label for="custom-text">Text Color</label>
                            <input type="color" id="custom-text" class="color-picker">
                        </div>
                        <div class="color-option">
                            <label for="custom-accent">Accent Color</label>
                            <input type="color" id="custom-accent" class="color-picker">
                        </div>
                        <div class="color-option">
                            <label for="custom-mine">Mine Color</label>
                            <input type="color" id="custom-mine" class="color-picker">
                        </div>
                        <div class="color-option">
                            <label for="custom-flag">Flag Color</label>
                            <input type="color" id="custom-flag" class="color-picker">
                        </div>
                        <button id="save-custom-colors" class="full-width" style="margin-top: 10px;">Save Custom Colors</button>
                        <button id="reset-custom-colors" class="full-width">Reset to Default</button>
                    </div>
                </div>
                  <div class="menu-section">
                    <h3>Sound</h3>
                    <div class="option-toggle">
                        <label for="sound-toggle">Enable Sound</label>
                        <input type="checkbox" id="sound-toggle" checked>
                    </div>
                    <div class="volume-control">
                        <label for="volume">Volume:</label>
                        <input type="range" id="volume" min="0" max="100" value="50" class="full-width">
                    </div>
                    <div class="background-audio">
                        <label for="background-audio">Background:</label>
                        <select id="background-audio" class="full-width">
                            <option value="none">None</option>
                            <option value="forest">Forest</option>
                            <option value="rain">Rain</option>
                            <option value="ocean">Ocean</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="custom-modal" class="modal">
            <div class="modal-content">
                <span class="close" id="custom-close">&times;</span>
                <h2>Custom Game</h2>
                <div>
                    <label for="width">Width:</label>
                    <input type="number" id="width" min="5" max="50" value="10">
                </div>
                <div>
                    <label for="height">Height:</label>
                    <input type="number" id="height" min="5" max="50" value="10">
                </div>
                <div>
                    <label for="mines">Mines:</label>
                    <input type="number" id="mines" min="1" value="10">
                </div>
                <button id="start-custom">Start</button>
            </div>
        </div>
        
        <div id="result-modal" class="modal">
            <div class="modal-content result-content">
                <div id="result-message"></div>
                <div id="result-details"></div>
                <button id="new-game-result">New Game</button>
            </div>
        </div>
    </div>    <!-- Audio elements -->
    <audio id="click-sound" src="sounds/click.wav" preload="auto"></audio>
    <audio id="flag-sound" src="sounds/flag.mp3" preload="auto"></audio>
    <audio id="win-sound" src="sounds/win.wav" preload="auto"></audio>
    <audio id="lose-sound" src="sounds/lose.wav" preload="auto"></audio>
    
    <!-- Background audio -->
    <audio id="forest-audio" src="sounds/forest.mp3" loop preload="auto"></audio>
    <audio id="rain-audio" src="sounds/rain.mp3" loop preload="auto"></audio>
    <audio id="ocean-audio" src="sounds/ocean.mp3" loop preload="auto"></audio>
    
    <!-- Statistics Modal -->
    <div id="statistics-modal" class="modal">
        <div class="modal-content statistics-content">
            <span class="close" id="statistics-close">&times;</span>
            <h2>Game Statistics</h2>

            <div class="statistics-container">
                <div class="statistics-section">
                    <h3>Overview</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Games Played</div>
                            <div class="stat-value" id="games-played">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Games Won</div>
                            <div class="stat-value" id="games-won">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Win Rate</div>
                            <div class="stat-value" id="win-rate">0%</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Current Streak</div>
                            <div class="stat-value" id="current-streak">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Best Streak</div>
                            <div class="stat-value" id="best-streak">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Last Played</div>
                            <div class="stat-value" id="last-played">Never</div>
                        </div>
                    </div>
                </div>

                <div class="statistics-section">
                    <h3>Best Times</h3>
                    <div class="stats-grid best-times-grid">
                        <div class="stat-item">
                            <div class="stat-label">Easy</div>
                            <div class="stat-value" id="best-time-easy">--</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Medium</div>
                            <div class="stat-value" id="best-time-medium">--</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Hard</div>
                            <div class="stat-value" id="best-time-hard">--</div>
                        </div>
                    </div>
                    <div id="custom-best-times" class="custom-best-times">
                        <!-- Custom game best times will be displayed here -->
                    </div>
                </div>

                <div class="statistics-section">
                    <h3>Achievements</h3>
                    <div id="achievements-list" class="achievements-list">
                        <!-- Achievements will be displayed here -->
                    </div>
                </div>            </div>

            <div class="statistics-actions">
                <button id="close-statistics" class="full-width">Close</button>
                <button id="reset-statistics" class="full-width danger-button">Reset All Statistics</button>
            </div>
        </div>
    </div>
      <script type="module" src="js/main.js"></script>
</body>
</html>
